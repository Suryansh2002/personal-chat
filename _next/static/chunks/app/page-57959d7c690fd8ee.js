(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{1108:(e,s,t)=>{"use strict";t.d(s,{N:()=>r});let r=(0,t(2111).UU)("https://cemwamqunrdkzkdonsxl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNlbXdhbXF1bnJka3prZG9uc3hsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE4NjMzMzMsImV4cCI6MjA4NzQzOTMzM30.AwCBPIe-HSzv7FChxWW-uH09yxBs6ePHho69yFn9s5A")},6102:(e,s,t)=>{Promise.resolve().then(t.bind(t,6180))},6180:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>z});var r=t(6384),a=t(432),n=t(4570),l=t(1316),o=t(227),i=t(6636),c=t(5682),d=t(8942);let m=n.Op,u=i.createContext({}),x=e=>{let{...s}=e;return(0,r.jsx)(u.Provider,{value:{name:s.name},children:(0,r.jsx)(n.xI,{...s})})},h=()=>{let e=i.useContext(u),s=i.useContext(p),{getFieldState:t}=(0,n.xW)(),r=(0,n.lN)({name:e.name}),a=t(e.name,r);if(!e)throw Error("useFormField should be used within <FormField>");let{id:l}=s;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...a}},p=i.createContext({});function b(e){let{className:s,...t}=e,a=i.useId();return(0,r.jsx)(p.Provider,{value:{id:a},children:(0,r.jsx)("div",{"data-slot":"form-item",className:(0,d.cn)("grid gap-2",s),...t})})}function g(e){let{...s}=e,{error:t,formItemId:a,formDescriptionId:n,formMessageId:l}=h();return(0,r.jsx)(c.DX,{"data-slot":"form-control",id:a,"aria-describedby":t?"".concat(n," ").concat(l):"".concat(n),"aria-invalid":!!t,...s})}function f(e){var s;let{className:t,...a}=e,{error:n,formMessageId:l}=h(),o=n?String(null!=(s=null==n?void 0:n.message)?s:""):a.children;return o?(0,r.jsx)("p",{"data-slot":"form-message",id:l,className:(0,d.cn)("text-destructive text-sm",t),...a,children:o}):null}var j=t(1108);let w=l.z.object({email:l.z.string().email("Invalid email address"),password:l.z.string().min(6,"Password must be at least 6 characters long").max(20,"Password must be at most 20 characters long")}),y=l.z.object({display_name:l.z.string().min(3,"Display name must be at least 3 characters long").max(20,"Display name must be at most 20 characters long"),email:l.z.string().email("Invalid email address"),password:l.z.string().min(6,"Password must be at least 6 characters long").max(20,"Password must be at most 20 characters long"),confirmPassword:l.z.string().min(6,"Password must be at least 6 characters long").max(20,"Password must be at most 20 characters long")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords don't match"});function N(e){let{open:s,onClose:t}=e,l=(0,n.mN)({resolver:(0,o.u)(w),defaultValues:{email:"",password:""}});return s?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center h-screen w-screen backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-xl p-8 w-full max-w-sm relative",children:[(0,r.jsx)("button",{onClick:t,className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 text-xl",children:"\xd7"}),(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Login"}),l.formState.errors.root&&(0,r.jsx)("p",{className:"text-red-500 text-sm text-center",children:l.formState.errors.root.message}),(0,r.jsx)(m,{...l,children:(0,r.jsxs)("form",{className:"flex flex-col gap-4",onSubmit:l.handleSubmit(e=>{j.N.auth.signInWithPassword({email:e.email,password:e.password}).then(e=>{let{error:s}=e;s?a.oR.error(s.message):(a.oR.success("Login successful"),t())})}),children:[(0,r.jsx)(x,{control:l.control,name:"email",render:e=>{let{field:s}=e;return(0,r.jsxs)(b,{children:[(0,r.jsx)(g,{children:(0,r.jsx)("input",{type:"email",placeholder:"Email",className:"p-2 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none",...s})}),(0,r.jsx)(f,{})]})}}),(0,r.jsx)(x,{control:l.control,name:"password",render:e=>{let{field:s}=e;return(0,r.jsxs)(b,{children:[(0,r.jsx)(g,{children:(0,r.jsx)("input",{type:"password",placeholder:"Password",className:"p-2 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none",...s})}),(0,r.jsx)(f,{})]})}}),(0,r.jsx)("button",{type:"submit",className:"py-2 rounded bg-blue-600 hover:bg-blue-700 font-semibold",children:"Login"}),l.formState.errors.root&&(0,r.jsx)("p",{className:"text-red-500 text-sm text-center",children:l.formState.errors.root.message})]})})]})}):null}function v(e){let{open:s,onClose:t}=e,l=(0,n.mN)({resolver:(0,o.u)(y),defaultValues:{display_name:"",email:"",password:"",confirmPassword:""}});return s?(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center h-screen w-screen backdrop-blur-sm",children:(0,r.jsxs)("div",{className:"bg-gray-900 rounded-xl shadow-xl p-8 w-full max-w-sm relative",children:[(0,r.jsx)("button",{onClick:t,className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 text-xl",children:"\xd7"}),(0,r.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Sign Up"}),(0,r.jsx)(m,{...l,children:(0,r.jsxs)("form",{className:"flex flex-col gap-4",onSubmit:l.handleSubmit(e=>{j.N.auth.signUp({email:e.email,password:e.password,options:{data:{display_name:e.display_name}}}).then(e=>{let{error:s}=e;s?l.setError("root",{type:"server",message:s.message}):(a.oR.success("Please Check your email for verification"),t())})}),children:[(0,r.jsx)(x,{control:l.control,name:"display_name",render:e=>{let{field:s}=e;return(0,r.jsxs)(b,{children:[(0,r.jsx)(g,{children:(0,r.jsx)("input",{type:"text",placeholder:"Display Name",className:"p-2 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none",...s})}),(0,r.jsx)(f,{})]})}}),(0,r.jsx)(x,{control:l.control,name:"email",render:e=>{let{field:s}=e;return(0,r.jsxs)(b,{children:[(0,r.jsx)(g,{children:(0,r.jsx)("input",{type:"email",placeholder:"Email",className:"p-2 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none",...s})}),(0,r.jsx)(f,{})]})}}),(0,r.jsx)(x,{control:l.control,name:"password",render:e=>{let{field:s}=e;return(0,r.jsxs)(b,{children:[(0,r.jsx)(g,{children:(0,r.jsx)("input",{type:"password",placeholder:"Password",className:"p-2 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none",...s})}),(0,r.jsx)(f,{})]})}}),(0,r.jsx)(x,{control:l.control,name:"confirmPassword",render:e=>{let{field:s}=e;return(0,r.jsxs)(b,{children:[(0,r.jsx)(g,{children:(0,r.jsx)("input",{type:"password",placeholder:"Confirm Password",className:"p-2 rounded bg-gray-800 text-white border border-gray-700 focus:outline-none",...s})}),(0,r.jsx)(f,{})]})}}),(0,r.jsx)("button",{type:"submit",className:"py-2 rounded bg-blue-600 hover:bg-blue-700 font-semibold",children:"Sign Up"}),l.formState.errors.root&&(0,r.jsx)("p",{className:"text-red-500 text-sm text-center",children:l.formState.errors.root.message})]})})]})}):null}var I=t(4582),S=t(7958);function z(){let[e,s]=(0,i.useState)(!1),[t,a]=(0,i.useState)(!1),{session:n,loading:l}=(0,S.A)(),o=(0,I.useRouter)();return(0,i.useEffect)(()=>{!l&&n&&o.push("/chat")},[l,n,o]),(0,i.useEffect)(()=>{"serviceWorker"in navigator&&navigator.serviceWorker.register("".concat("/personal-chat","/sw.js"))},[]),(0,r.jsxs)("main",{className:"h-full flex items-center justify-center",children:[e&&(0,r.jsx)(N,{open:e,onClose:()=>s(!1)}),t&&(0,r.jsx)(v,{open:t,onClose:()=>a(!1)}),(0,r.jsx)("div",{className:"relative z-10 w-full flex flex-col items-center px-4",children:(0,r.jsxs)("div",{className:" rounded-2xl md:p-10 flex flex-col items-center gap-8 max-w-xl w-full backdrop-blur-md",children:[(0,r.jsx)("h1",{className:"text-5xl md:text-6xl font-bold mb-2 tracking-tight text-white drop-shadow-xl text-center",children:"Welcome to Personalized Chat"}),(0,r.jsx)("p",{className:"mb-6 text-gray-300 text-center text-base md:text-xl font-medium max-w-lg",children:"Your private, AI-powered chat experience. Simple. Secure. Yours."}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 w-full items-center justify-center",children:[(0,r.jsx)("button",{onClick:()=>s(!0),className:"w-32 py-2 px-4 rounded-lg bg-blue-700 hover:bg-blue-800 transition-colors font-semibold shadow-md text-base md:text-lg",children:"Login in"}),(0,r.jsx)("button",{onClick:()=>a(!0),className:"w-32 py-2 px-4 rounded-lg bg-gray-700 hover:bg-gray-600 transition-colors font-semibold shadow-md text-base md:text-lg",children:"Sign Up"})]})]})})]})}},7958:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var r=t(1108),a=t(6636);function n(){let[e,s]=(0,a.useState)(null),[t,n]=(0,a.useState)(!0),[l,o]=(0,a.useState)(null);return(0,a.useEffect)(()=>{r.N.auth.getSession().then(e=>{let{data:{session:t},error:r}=e;s(t),n(!1),o(r?r.message:null)});let{data:e}=r.N.auth.onAuthStateChange((e,t)=>{s(t)});return()=>{null==e||e.subscription.unsubscribe()}},[]),{session:e,error:l,loading:t}}},8942:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var r=t(4534),a=t(3759);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,r.$)(s))}}},e=>{var s=s=>e(e.s=s);e.O(0,[432,206,406,309,951,358],()=>s(6102)),_N_E=e.O()}]);